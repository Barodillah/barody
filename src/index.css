@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700;800&family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,700;0,800;1,400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    margin: 0;
    transition: background-color 0.7s ease;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Custom Scrollbar - will be overriden by theme in component */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(34, 211, 238, 0.27);
    border-radius: 10px;
}

/* Theme-aware scrollbar via data attribute */
[data-theme="satisfaction"] ::-webkit-scrollbar-thumb {
    background: rgba(244, 63, 94, 0.27);
}

/* Smooth scroll for the whole page */
html {
    scroll-behavior: smooth;
}

/* Selection colors */
::selection {
    background: rgba(34, 211, 238, 0.3);
    color: inherit;
}

[data-theme="satisfaction"] ::selection {
    background: rgba(244, 63, 94, 0.3);
}

/* Focus outlines for accessibility */
:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
}

/* Custom Animations */
@keyframes cursor-blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

@keyframes float-balloon {

    0%,
    100% {
        transform: translateY(0) rotate(-2deg);
    }

    50% {
        transform: translateY(-12px) rotate(2deg);
    }
}

@keyframes inflate-balloon {
    0% {
        transform: scale(0) translate(0, 0);
        opacity: 0;
    }

    60% {
        transform: scale(1.1) translate(0, -90px);
        opacity: 1;
    }

    100% {
        transform: scale(1) translate(0, -90px);
        opacity: 1;
    }
}

.animate-cursor-blink {
    animation: cursor-blink 1s step-end infinite;
}

.animate-float-balloon {
    animation: float-balloon 3.5s ease-in-out infinite;
}

.animate-inflate-balloon {
    animation: inflate-balloon 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* Idle Balloon Animation - gentle bobbing when detached */
@keyframes idle-balloon {

    0%,
    100% {
        transform: translateY(0) rotate(-3deg);
    }

    25% {
        transform: translateY(-8px) rotate(0deg);
    }

    50% {
        transform: translateY(-3px) rotate(3deg);
    }

    75% {
        transform: translateY(-10px) rotate(0deg);
    }
}

.animate-idle-balloon {
    animation: idle-balloon 3s ease-in-out infinite;
}

/* Heartbeat Emoji Animation - pulsing like a heartbeat */
@keyframes heartbeat-emoji {

    0%,
    100% {
        transform: scale(1);
    }

    15% {
        transform: scale(1.15);
    }

    30% {
        transform: scale(1);
    }

    45% {
        transform: scale(1.2);
    }

    60% {
        transform: scale(1);
    }
}

/* Spin Emoji Animation for Love Emoji */
@keyframes spin-emoji {

    0%,
    100% {
        transform: scale(1.25) rotateY(0deg);
    }

    25% {
        transform: scale(1.3) rotateY(90deg);
    }

    50% {
        transform: scale(1.25) rotateY(180deg);
    }

    75% {
        transform: scale(1.3) rotateY(270deg);
    }
}

/* Binary Glow Animation */
@keyframes binary-glow {

    0%,
    100% {
        text-shadow: 0 0 10px rgba(34, 211, 238, 0.5);
    }

    50% {
        text-shadow: 0 0 30px rgba(34, 211, 238, 0.9), 0 0 60px rgba(34, 211, 238, 0.5);
    }
}

.animate-binary-glow {
    animation: binary-glow 0.5s ease-in-out infinite;
}

/* Heartbeat Text Animation for Satisfaction Mode */
@keyframes heartbeat-text {

    0%,
    100% {
        transform: scale(1);
    }

    15% {
        transform: scale(1.05);
    }

    30% {
        transform: scale(1);
    }

    45% {
        transform: scale(1.08);
    }

    60% {
        transform: scale(1);
    }
}

.animate-heartbeat-text {
    animation: heartbeat-text 1.5s ease-in-out infinite;
}

/* Float Away Animation for Released Balloon */
@keyframes float-away {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.7;
    }

    25% {
        transform: translateY(-50px) rotate(-5deg);
    }

    50% {
        transform: translateY(-100px) rotate(5deg);
    }

    75% {
        transform: translateY(-150px) rotate(-3deg);
    }

    100% {
        transform: translateY(-250px) rotate(0deg);
        opacity: 0;
    }
}

.animate-float-away {
    animation: float-away 3s ease-out forwards;
}

/* Utility for backdrop blur fallback */
@supports not (backdrop-filter: blur(12px)) {
    .backdrop-blur-md {
        background: rgba(0, 0, 0, 0.8);
    }
}

/* Safari backdrop-filter fix */
.backdrop-blur-md {
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
}

/* Chat Page Animations */
@keyframes typing-bounce {

    0%,
    60%,
    100% {
        transform: translateY(0);
        opacity: 0.4;
    }

    30% {
        transform: translateY(-6px);
        opacity: 1;
    }
}

.typing-dot {
    animation: typing-bounce 1.2s ease-in-out infinite;
}

@keyframes fade-in {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
}

/* Page Transition Animations */
@keyframes page-transition-expand {
    0% {
        transform: scale(0);
        opacity: 1;
    }

    100% {
        transform: scale(3);
        opacity: 1;
    }
}

@keyframes page-transition-fade {
    0% {
        opacity: 0;
    }

    100% {
        opacity: 1;
    }
}

.page-transition-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
}

.page-transition-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    animation: page-transition-expand 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.page-transition-circle.logic {
    background: linear-gradient(135deg, #06b6d4, #22d3ee);
    box-shadow: 0 0 60px rgba(34, 211, 238, 0.8);
}

.page-transition-circle.satisfaction {
    background: linear-gradient(135deg, #e11d48, #f43f5e);
    box-shadow: 0 0 60px rgba(244, 63, 94, 0.8);
}

/* Chat page entrance animation */
@keyframes chat-entrance {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.chat-page-enter {
    animation: chat-entrance 0.4s ease-out forwards;
    animation-delay: 0.1s;
    opacity: 0;
}

/* Loading dots in transition */
@keyframes bounce-loading {

    0%,
    80%,
    100% {
        transform: scale(0);
    }

    40% {
        transform: scale(1);
    }
}

.transition-loading-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: white;
    animation: bounce-loading 1.4s ease-in-out infinite both;
}

.transition-loading-dot:nth-child(1) {
    animation-delay: -0.32s;
}

.transition-loading-dot:nth-child(2) {
    animation-delay: -0.16s;
}

.transition-loading-dot:nth-child(3) {
    animation-delay: 0s;
}

/* Online Status Dot Animation */
@keyframes online-pulse {

    0%,
    100% {
        box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.6);
    }

    50% {
        box-shadow: 0 0 0 6px rgba(34, 197, 94, 0);
    }
}

.online-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    background-color: #22c55e;
    border-radius: 50%;
    animation: online-pulse 2s ease-in-out infinite;
}

/* Chat scrollbar styles */
[data-theme="logic"] ::-webkit-scrollbar-thumb {
    background: rgba(34, 211, 238, 0.27);
}

[data-theme="satisfaction"] ::-webkit-scrollbar-thumb {
    background: rgba(244, 63, 94, 0.27);
}

/* Safari nav background fix for satisfaction mode */
[data-theme="satisfaction"] nav.backdrop-blur-md,
[data-theme="satisfaction"] header.backdrop-blur-md,
[data-theme="satisfaction"] footer.backdrop-blur-md,
[data-theme="satisfaction"] .bg-white\/90,
[data-theme="satisfaction"] .bg-white\/95 {
    background-color: rgba(255, 255, 255, 0.95) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    backdrop-filter: blur(12px) !important;
}

[data-theme="logic"] nav.backdrop-blur-md,
[data-theme="logic"] header.backdrop-blur-md,
[data-theme="logic"] footer.backdrop-blur-md,
[data-theme="logic"] .bg-slate-950\/90,
[data-theme="logic"] .bg-slate-950\/95 {
    background-color: rgba(2, 6, 23, 0.95) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    backdrop-filter: blur(12px) !important;
}

/* Safari input fix for satisfaction mode */
[data-theme="satisfaction"] input.bg-white {
    background-color: #ffffff !important;
    color: #292524 !important;
}

[data-theme="satisfaction"] input::placeholder {
    color: rgba(41, 37, 36, 0.4) !important;
}

/* ========================================
   Request Strategy Call Modal Animations
   ======================================== */

/* Modal Backdrop */
.modal-backdrop {
    position: fixed;
    inset: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    animation: backdrop-fade 0.3s ease-out forwards;
}

@keyframes backdrop-fade {
    from {
        background-color: transparent;
        backdrop-filter: blur(0);
    }

    to {
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(8px);
    }
}

/* Modal Container Entrance */
@keyframes modal-enter {
    from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.modal-container {
    animation: modal-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Step Slide Animations */
@keyframes slide-up-enter {
    from {
        opacity: 0;
        transform: translateY(30px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-up-exit {
    from {
        opacity: 1;
        transform: translateY(0);
    }

    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

.step-enter {
    animation: slide-up-enter 0.4s ease-out forwards;
}

.step-exit {
    animation: slide-up-exit 0.3s ease-in forwards;
}

/* Progress Bar Fill */
@keyframes progress-fill {
    from {
        width: 0%;
    }
}

.progress-bar {
    transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Pill Button Selection Effect */
@keyframes pill-select {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(0.95);
    }

    100% {
        transform: scale(1);
    }
}

.pill-selected {
    animation: pill-select 0.3s ease-out;
}

/* Glow Pulse for Valid Submit Button */
@keyframes glow-pulse {

    0%,
    100% {
        box-shadow: 0 0 20px rgba(34, 211, 238, 0.4);
    }

    50% {
        box-shadow: 0 0 35px rgba(34, 211, 238, 0.7), 0 0 50px rgba(34, 211, 238, 0.3);
    }
}

@keyframes glow-pulse-rose {

    0%,
    100% {
        box-shadow: 0 0 20px rgba(244, 63, 94, 0.4);
    }

    50% {
        box-shadow: 0 0 35px rgba(244, 63, 94, 0.7), 0 0 50px rgba(244, 63, 94, 0.3);
    }
}

.glow-pulse-cyan {
    animation: glow-pulse 1.5s ease-in-out infinite;
}

.glow-pulse-rose {
    animation: glow-pulse-rose 1.5s ease-in-out infinite;
}

/* Confetti Particles */
@keyframes confetti-fall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(100px) rotate(720deg);
        opacity: 0;
    }
}

@keyframes confetti-pop {
    0% {
        transform: scale(0) translateY(0);
        opacity: 0;
    }

    20% {
        transform: scale(1.2) translateY(-20px);
        opacity: 1;
    }

    100% {
        transform: scale(0.8) translateY(80px);
        opacity: 0;
    }
}

.confetti-particle {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    animation: confetti-pop 1s ease-out forwards;
}

/* Success Checkmark Animation */
@keyframes success-pop {
    0% {
        transform: scale(0);
        opacity: 0;
    }

    50% {
        transform: scale(1.2);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.success-icon {
    animation: success-pop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Phone Input Focus Ring */
@keyframes focus-ring {
    0% {
        box-shadow: 0 0 0 0 rgba(34, 211, 238, 0.4);
    }

    100% {
        box-shadow: 0 0 0 4px rgba(34, 211, 238, 0.1);
    }
}

@keyframes focus-ring-rose {
    0% {
        box-shadow: 0 0 0 0 rgba(244, 63, 94, 0.4);
    }

    100% {
        box-shadow: 0 0 0 4px rgba(244, 63, 94, 0.1);
    }
}

/* Shake Animation for Invalid Input */
@keyframes shake {

    0%,
    100% {
        transform: translateX(0);
    }

    20% {
        transform: translateX(-8px);
    }

    40% {
        transform: translateX(8px);
    }

    60% {
        transform: translateX(-4px);
    }

    80% {
        transform: translateX(4px);
    }
}

.shake {
    animation: shake 0.4s ease-in-out;
}

/* Floating Label Animation */
@keyframes float-label {
    from {
        transform: translateY(0);
        font-size: 1rem;
        opacity: 0.6;
    }

    to {
        transform: translateY(-1.5rem);
        font-size: 0.75rem;
        opacity: 1;
    }
}

/* Modal Close Button Hover */
.modal-close:hover {
    transform: rotate(90deg);
    transition: transform 0.3s ease;
}

/* Satisfaction Mode Modal Adjustments */
[data-theme="satisfaction"] .modal-backdrop {
    background-color: rgba(255, 255, 255, 0.3);
}